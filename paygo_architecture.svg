<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background-color: rgb(255, 255, 255);" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1546px" height="1131px" viewBox="-0.5 -0.5 1546 1131" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-07-17T05:37:27.516Z&quot; agent=&quot;5.0 (Windows)&quot; etag=&quot;kmHEIx1TenY3FwMGFyVo&quot; version=&quot;14.8.6&quot; type=&quot;google&quot;&gt;&lt;diagram name=&quot;Page-1&quot; id=&quot;e3a06f82-3646-2815-327d-82caf3d4e204&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="494" y="0" width="861" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 20px; margin-left: 925px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 24px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Paygo Architecture</div></div></div></foreignObject><text x="925" y="27" fill="#000000" font-family="Helvetica" font-size="24px" text-anchor="middle" font-weight="bold">Paygo Architecture</text></switch></g><path d="M 165.5 350 L 165.5 339.5 L 184.5 355 L 165.5 370.5 L 165.5 360 L 75 360 L 35.5 360 L 35.5 350 L 75 350 Z" fill="#ffff00" stroke="#000000" stroke-miterlimit="1.42" pointer-events="all"/><path d="M 165.5 350 L 165.5 339.5 L 184.5 355 L 165.5 370.5 L 165.5 360" fill="none" stroke="#000000" stroke-miterlimit="4" pointer-events="all"/><path d="M 290 355 L 355 355 L 355 460 L 545 460 L 545 580 L 606.88 580" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 613.88 580 L 606.88 583.5 L 606.88 576.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 290 355 L 585 355 L 606.88 355" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 613.88 355 L 606.88 358.5 L 606.88 351.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="185" y="300" width="105" height="110" fill="#66ff66" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 103px; height: 1px; padding-top: 355px; margin-left: 186px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>Checkout</div></div></div></div></foreignObject><text x="238" y="360" fill="#000000" font-family="Helvetica" font-size="16px" text-anchor="middle">Checkout</text></switch></g><rect x="15" y="300" width="170" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 320px; margin-left: 100px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><div>Redirect from</div><div>client to checkout flow<br /></div></div></div></div></foreignObject><text x="100" y="325" fill="#000000" font-family="Helvetica" font-size="16px" text-anchor="middle">Redirect from...</text></switch></g><path d="M 395 890 L 395 50" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><rect x="190" y="55" width="100" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 70px; margin-left: 240px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 22px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">External</div></div></div></foreignObject><text x="240" y="77" fill="#000000" font-family="Helvetica" font-size="22px" text-anchor="middle">External</text></switch></g><rect x="819.5" y="55" width="90" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 70px; margin-left: 865px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 22px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Internal</div></div></div></foreignObject><text x="865" y="77" fill="#000000" font-family="Helvetica" font-size="22px" text-anchor="middle">Internal</text></switch></g><path d="M 606.88 134 L 315 134 L 315 355 L 290 355" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 613.88 134 L 606.88 137.5 L 606.88 130.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 715 134 L 945 134 L 941.43 133.6" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 948.39 134.38 L 941.05 137.08 L 941.82 130.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="315" y="300" width="30" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 315px; margin-left: 330px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; "><font style="font-size: 20px">1</font></div></div></div></foreignObject><text x="330" y="321" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">1</text></switch></g><path d="M 715 580 L 811.38 580" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 818.38 580 L 811.38 583.5 L 811.38 576.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 581px; margin-left: 769px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">Async</div></div></div></foreignObject><text x="769" y="585" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">Async</text></switch></g><path d="M 615 580 L 237.5 580 L 237.5 418.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 237.5 411.12 L 241 418.12 L 234 418.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 581px; margin-left: 398px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">Return charge ID</div></div></div></foreignObject><text x="398" y="585" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">Return charge ID</text></switch></g><path d="M 665 620 L 665 758 L 904 758 L 1084.38 757.52" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1091.38 757.5 L 1084.39 761.02 L 1084.37 754.02 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="615" y="540" width="100" height="80" fill="#66ff66" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 580px; margin-left: 616px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>Charge</div><div>Service<br /></div></div></div></div></foreignObject><text x="665" y="585" fill="#000000" font-family="Helvetica" font-size="16px" text-anchor="middle">Charge...</text></switch></g><path d="M 949.5 106 C 949.5 80.67 1059.5 80.67 1059.5 106 L 1059.5 163 C 1059.5 188.33 949.5 188.33 949.5 163 Z" fill="#33ffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 949.5 106 C 949.5 125 1059.5 125 1059.5 106" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 149px; margin-left: 951px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 18px">User DB</font></div></div></div></foreignObject><text x="1005" y="154" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">User DB</text></switch></g><rect x="755" y="100" width="30" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 115px; margin-left: 770px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">2</div></div></div></foreignObject><text x="770" y="121" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">2</text></switch></g><rect x="315" y="372" width="30" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 387px; margin-left: 330px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">6</div></div></div></foreignObject><text x="330" y="393" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">6</text></switch></g><path d="M 1004.5 580 L 1094.38 580" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1101.38 580 L 1094.38 583.5 L 1094.38 576.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 819.5 562 L 930.5 562 L 930.5 535 L 1004.5 580 L 930.5 625 L 930.5 598 L 819.5 598 Z" fill="#66ffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 183px; height: 1px; padding-top: 580px; margin-left: 821px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Charge Queue</div></div></div></foreignObject><text x="912" y="585" fill="#000000" font-family="Helvetica" font-size="16px" text-anchor="middle">Charge Queue</text></switch></g><path d="M 1202.5 580 L 1416.88 580" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1423.88 580 L 1416.88 583.5 L 1416.88 576.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1202.5 580 L 1255 580 L 1255 655 L 1147.5 655 L 1147.5 701.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1147.5 708.88 L 1144 701.88 L 1151 701.88 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1010" y="545" width="40" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 560px; margin-left: 1030px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">8b</div></div></div></foreignObject><text x="1030" y="566" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">8b</text></switch></g><rect x="1425" y="525" width="120" height="110" fill="#ff3333" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 580px; margin-left: 1426px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>Payment API</div></div></div></div></foreignObject><text x="1485" y="585" fill="#000000" font-family="Helvetica" font-size="16px" text-anchor="middle">Payment API</text></switch></g><path d="M 1305 890 L 1305 50" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><rect x="1450" y="57" width="70" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 72px; margin-left: 1485px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 22px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Bank</div></div></div></foreignObject><text x="1485" y="79" fill="#000000" font-family="Helvetica" font-size="22px" text-anchor="middle">Bank</text></switch></g><rect x="1265" y="545" width="30" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 560px; margin-left: 1280px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">9</div></div></div></foreignObject><text x="1280" y="566" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">9</text></switch></g><rect x="1210" y="610" width="40" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 625px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">10</div></div></div></foreignObject><text x="1230" y="631" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">10</text></switch></g><rect x="475" y="590" width="40" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 605px; margin-left: 495px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">7c</div></div></div></foreignObject><text x="495" y="611" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">7c</text></switch></g><rect x="10" y="970" width="290" height="90" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1015px; margin-left: 155px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><div><u><b>Legend</b></u></div><div><u><b><br /></b></u></div><div align="left"><span style="background-color: rgb(153 , 255 , 153)">Paygo services</span> (Go + Rust + gRPC)<br /><span style="background-color: rgb(102 , 255 , 255)">Paygo infrastructure (caches, DBs, queues)</span><br /><span style="background-color: rgb(255 , 51 , 51)">Merchant bank endpoints</span><br /></div></div></div></div></foreignObject><text x="155" y="1019" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">Legend...</text></switch></g><rect x="0" y="1070" width="480" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1100px; margin-left: 240px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; "><div align="left">Note 1: <span style="font-weight: normal">All internal services communicate over gRPC</span></div><div align="left"><span style="font-weight: normal"><b>Note 2: </b>DBs are split to keep financial data isolated from user and API data<br /></span></div><div align="left">Note 3: <span style="font-weight: normal">We use Redis for - 1) distributing charges and 2) persistence</span><br /></div></div></div></div></foreignObject><text x="240" y="1104" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle" font-weight="bold">Note 1: All internal services communicate over gRPC...</text></switch></g><rect x="819.5" y="600" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 610px; margin-left: 870px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Redis or SQS</div></div></div></foreignObject><text x="870" y="614" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">Redis or SQS</text></switch></g><rect x="969.5" y="182" width="70" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 192px; margin-left: 1005px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Postgres</div></div></div></foreignObject><text x="1005" y="196" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">Postgres</text></switch></g><path d="M 1092.5 729 C 1092.5 703.67 1202.5 703.67 1202.5 729 L 1202.5 786 C 1202.5 811.33 1092.5 811.33 1092.5 786 Z" fill="#66ffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1092.5 729 C 1092.5 748 1202.5 748 1202.5 729" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 772px; margin-left: 1094px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>Charge</div><div>DB</div></div></div></div></foreignObject><text x="1148" y="777" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Charge...</text></switch></g><rect x="1112.5" y="805" width="70" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 815px; margin-left: 1148px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Postgres</div></div></div></foreignObject><text x="1148" y="819" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">Postgres</text></switch></g><rect x="590" y="85" width="150" height="170" fill="none" stroke="#000000" pointer-events="none"/><rect x="615" y="99" width="100" height="70" fill="#66ff66" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 134px; margin-left: 616px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>Auth</div>Service</div></div></div></foreignObject><text x="665" y="139" fill="#000000" font-family="Helvetica" font-size="16px" text-anchor="middle">AuthService</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 211px; margin-left: 602px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><div style="font-size: 14px">1. API token check</div><div style="font-size: 14px">2. <u>Quota checks (?)<br /></u></div><div style="font-size: 14px">3. Permission checks</div><div style="font-size: 14px">4. Sandbox vs. prod<br style="font-size: 14px" /></div></div></div></div></foreignObject><text x="602" y="215" fill="#000000" font-family="Helvetica" font-size="14px">1. API token check...</text></switch></g><path d="M 715 355 L 735 355 L 735 270 L 237.5 270 L 237.5 291.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 237.5 298.88 L 234 291.88 L 241 291.88 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 271px; margin-left: 539px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; "><font style="font-size: 14px">Return card ID</font></div></div></div></foreignObject><text x="539" y="276" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Return card ID</text></switch></g><rect x="615" y="315" width="100" height="80" fill="#66ff66" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 355px; margin-left: 616px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>Card</div><div>Service<br /></div></div></div></div></foreignObject><text x="665" y="360" fill="#000000" font-family="Helvetica" font-size="16px" text-anchor="middle">Card...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 335px; margin-left: 440px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">3</div></div></div></foreignObject><text x="440" y="341" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">3</text></switch></g><path d="M 955 316 C 955 290.67 1065 290.67 1065 316 L 1065 373 C 1065 398.33 955 398.33 955 373 Z" fill="#66ffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 955 316 C 955 335 1065 335 1065 316" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 359px; margin-left: 956px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Card DB</div></div></div></foreignObject><text x="1010" y="364" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Card DB</text></switch></g><path d="M 715 355 L 835 355 L 944.9 355.48" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 951.9 355.52 L 944.89 358.98 L 944.92 351.98 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 432px; margin-left: 582px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1. Decrypts card data and<div>re-encrypts it for storage in DB</div><div>2. Generates unique card ID<br /></div></div></div></div></foreignObject><text x="582" y="436" fill="#000000" font-family="Helvetica" font-size="14px">1. Decrypts card data and...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 375px; margin-left: 530px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><div>Card data encrypted</div><div>at checkout (pubkey)<br /></div></div></div></div></foreignObject><text x="530" y="379" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">Card data encrypted...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 330px; margin-left: 760px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">4</div></div></div></foreignObject><text x="760" y="336" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">4</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 555px; margin-left: 740px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">7b</div></div></div></foreignObject><text x="740" y="561" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">7b</text></switch></g><path d="M 1152.5 540 L 1152.5 500 L 665 500 L 665 531.88" fill="none" stroke="#cc0000" stroke-miterlimit="10" stroke-dasharray="1 2" pointer-events="none"/><path d="M 665 538.88 L 661.5 531.88 L 668.5 531.88 Z" fill="none" stroke="#cc0000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 504px; margin-left: 936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #CC0000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; "><div style="font-size: 14px"><font style="font-size: 14px">Handle retries by putting</font></div><div style="font-size: 14px"><font style="font-size: 14px">failed charges back on the queue</font></div></div></div></div></foreignObject><text x="936" y="509" fill="#CC0000" font-family="Helvetica" font-size="18px" text-anchor="middle">Handle retries by putting...</text></switch></g><rect x="1102.5" y="540" width="100" height="80" fill="#66ff66" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 580px; margin-left: 1104px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><div>Transaction</div><div>Service<br /></div></div></div></div></foreignObject><text x="1153" y="585" fill="#000000" font-family="Helvetica" font-size="16px" text-anchor="middle">Transaction...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 402px; margin-left: 1010px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Postgres</div></div></div></foreignObject><text x="1010" y="406" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">Postgres</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 290px; margin-left: 680px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">5</div></div></div></foreignObject><text x="680" y="296" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">5</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 650px; margin-left: 685px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">7a</div></div></div></foreignObject><text x="685" y="656" fill="#000000" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">7a</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 740px; margin-left: 880px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><u>Ledger contains no sensitive data - just IDs and amounts</u></div></div></div></foreignObject><text x="880" y="744" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">Ledger contains no sensitive data - just IDs and amou...</text></switch></g><path d="M 1162.5 680 L 1166.79 690 L 1182.5 670" fill="none" stroke="#0080f0" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>